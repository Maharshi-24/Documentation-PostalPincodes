<!DOCTYPE html>
<html lang="en">

<head>
    <title>Postal API Playground</title>
    <%- include('partials/head') %>
</head>

<body>
    <%- include('partials/header', { page: 'playground' }) %>

        <div class="workspace" id="workspace">
            <!-- Sidebar -->
            <nav class="sidebar" id="sidebar">
                <div class="sidebar-group">
                    <div class="sidebar-title">Pincode Data</div>
                    <div class="sidebar-item active" onclick="loadEndpoint('pincode')">
                        <span class="method-badge get">GET</span> Get Pincode
                    </div>
                    <div class="sidebar-item" onclick="loadEndpoint('batch')">
                        <span class="method-badge post">POST</span> Batch Lookup
                    </div>
                    <div class="sidebar-item" onclick="loadEndpoint('validate')">
                        <span class="method-badge get">GET</span> Validate
                    </div>
                    <div class="sidebar-item" onclick="loadEndpoint('lookup')">
                        <span class="method-badge get">GET</span> Address Lookup
                    </div>
                </div>

                <div class="sidebar-group">
                    <div class="sidebar-title">Search & Filter</div>
                    <div class="sidebar-item" onclick="loadEndpoint('search')">
                        <span class="method-badge get">GET</span> Search
                    </div>
                    <div class="sidebar-item" onclick="loadEndpoint('autocomplete')">
                        <span class="method-badge get">GET</span> Autocomplete
                    </div>
                </div>

                <div class="sidebar-group">
                    <div class="sidebar-title">Location Services</div>
                    <div class="sidebar-item" onclick="loadEndpoint('nearest')">
                        <span class="method-badge get">GET</span> Nearest Post Office
                    </div>
                </div>

                <div class="sidebar-group">
                    <div class="sidebar-title">Drill-down</div>
                    <div class="sidebar-item" onclick="loadEndpoint('states')">
                        <span class="method-badge get">GET</span> Get States
                    </div>
                    <div class="sidebar-item" onclick="loadEndpoint('districts')">
                        <span class="method-badge get">GET</span> Get Districts
                    </div>
                    <div class="sidebar-item" onclick="loadEndpoint('offices')">
                        <span class="method-badge get">GET</span> Get Offices
                    </div>
                </div>
            </nav>

            <!-- Center Pane -->
            <main class="center-pane" id="centerPane">
                <!-- Content Injected via JS -->
            </main>

            <!-- Right Pane (Response Only) -->
            <aside class="right-pane" id="rightPane">
                <div class="pane-header">
                    <div style="display: flex; align-items: center; gap: 10px;">
                        <span>Response</span>
                        <span id="statusCode" style="font-weight: 700;"></span>
                    </div>
                    <div style="display: flex; align-items: center; gap: 1rem;">
                        <div class="env-switcher">
                            <button class="env-btn active" onclick="setEnv('local')">Local</button>
                            <button class="env-btn" onclick="setEnv('vercel')">Vercel</button>
                        </div>
                        <button class="copy-icon-btn" id="copyResponseBtn" onclick="copyResponse()"
                            title="Copy Response">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                                <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
                            </svg>
                        </button>
                    </div>
                </div>
                <div class="response-content" id="responseDisplay">
                    <span style="color: var(--text-dim);">// Waiting for request...</span>
                </div>
            </aside>
        </div>

        <script src="/assets/js/theme.js"></script>
        <script src="/assets/js/playground.js"></script>
</body>

</html>